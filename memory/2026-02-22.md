# 2026-02-22

## Tareas acordadas para mañana

- Prioridades mencionadas por Hector: **SGC** y **HPD**.
- Nota: mantener enfoque de ejecución rápida con preset `rápido/profundo` según necesidad.

## SGC — estudio preliminar para piloto (hecho en la madrugada)

- Se ejecutó preflight rápido en repo `projects/Sistema-de-Gestion-QA-QC`:
  - `./scripts/release_preflight.sh --skip-install`
  - Unit tests: **13 passed**.
  - Gate estricto: **falla** por hallazgos de compliance/trazabilidad.
- Hallazgos críticos detectados (8):
  1. `auditar_invariantes_de_estado`: placeholders en `ESP-SGC-16` e `IT-SGC-05`.
  2. `auditar_secciones_minimas`: faltan secciones obligatorias en `ESP-SGC-16`, `IT-SGC-05`, `IT-SGC-06`, `IT-SGC-07`.
  3. `auditar_trazabilidad_registros`: wrappers inválidos por falta de `formato_origen`/contrato en `REG-SGC-NC-2026-002` y `REG-SGC-RISK-2026-Q1`.
- Acción para mañana: presentar plan de salida a prueba con enfoque **go/no-go** y cierre de P0 documental antes del piloto.

## SGC — P0 ejecutado (11:xx)

- Se corrigieron bloqueos P0 en branch `feat/phase-12-agentic-intelligence`:
  - Placeholders removidos y estructura normativa completada en:
    - `docs/_control/ESP-SGC-16_Resumen_Ejecutivo_Fase_12_IA.md`
    - `docs/04_instructivos/IT-SGC-05_Generacion_Automatica_ITP.md`
    - `docs/04_instructivos/IT-SGC-06_Vigilancia_Riesgos_IA.md`
    - `docs/04_instructivos/IT-SGC-07_Consulta_Obra_Copilot.md`
  - Wrappers de trazabilidad normalizados en:
    - `docs/06_registros/no_conformidades/REG-SGC-NC-2026-002_Falla_Concreto.md`
    - `docs/06_registros/riesgos/REG-SGC-RISK-2026-Q1.md`
  - Artefactos SSOT regenerados:
    - `docs/_control/lmd.yml`
    - `docs/_control/dashboard_sgc.html`
    - `docs/_control/instrumentacion_sgc.json`
- Validación real ejecutada:
  - `./scripts/release_preflight.sh --skip-install` => **RELEASE PREFLIGHT PASS**
  - QA estricto: `BORRADOR=0 | HALLAZGOS=0`
- Commit: `5ffed77` (`fix(sgc): close P0 pilot blockers for baseline gate`).

## SGC — P1 ejecutado (11:xx)

- Hardening de scripts Fase 12 para portabilidad de rutas (sin hardcode `projects/...`):
  - `scripts/demo_spec_parser.py`
  - `scripts/watchdog_nc.py`
  - `scripts/sgc_ask.py`
- Cambios clave:
  - Resolución de repo root por `SGC_REPO_ROOT` o ruta del script.
  - Paths construidos con `Path`/absolutos.
  - Mejoras de robustez en parsing y mensajes de error.
  - Smoke tests reales de los 3 scripts ejecutados OK.
- Verificación posterior:
  - `pytest -q agent_runtime/tests` => **13 passed**.
  - `./scripts/release_preflight.sh --skip-install` => **PASS**.
- Commit: `4ecc9ee` (`fix(sgc): harden phase12 scripts paths and smoke flows`).

## SGC — runbook de piloto interno creado

- Se creó playbook operativo para ejecutar piloto controlado Fase 12:
  - `playbooks/PILOTO_INTERNO_FASE12.md`
- Incluye: precondiciones, pasos smoke de 3 capacidades, criterios GO/NO-GO, evidencia mínima y rollback.
- Commit en repo SGC: `43adcc6` (`docs(sgc): add internal phase12 pilot runbook`).

## QTS — loop operativo solicitado por Hector (tarde)

- Hector pidió separar foco: **solo QTS** (PHD se maneja aparte con Gemini).
- Se definió y documentó playbook reusable “loops + skills” para hardening:
  - `QTS-ARCHITECT/docs/runbooks/QTS_LOOP_SKILLS_OPERATIVO.md`
- Estructura guardada:
  1. Loop estándar 15–30 min por issue (detectar → clasificar P0-P3 → parche mínimo → test focal → gate).
  2. Skills operativas: timeout ambiguo, partial fill/idempotencia, circuit breaker, métricas VaR/CVaR.
  3. Gate obligatorio con comandos reales (`find_hotspots`, `uv run pytest`, fallback `py_compile`).
  4. Plantilla de reporte y política de rollback rápido.
- Verificación ejecutada hoy (baseline):
  - `uv run pytest -q tests/test_execution.py tests/test_backtest.py` => **OK (99 passed)**.

## QTS — decisión de perfil default (strict)

- Se ejecutó sweep comparativo en backtest real (`kraken`, `BTC/USD`, `1h`, 721 barras):
  - strict: +3.85%, DD -1.89%
  - balanced: +4.59%, DD -3.26%
  - aggressive: +4.21%, DD -3.00%
- Validación OOS:
  - 7d: empate operativo entre perfiles (todos -0.163%).
  - 14d: **strict** mejor (+0.116% vs -0.052% en balanced/aggressive).
- Decisión aplicada por solicitud de Hector: dejar **strict** como default live.
- Config actualizado: `QTS-ARCHITECT/conf/live.yaml`
  - `supervisor.min_confidence: 0.60`
  - `agents.risk.min_signal_confidence: 0.70`
  - `agents.risk.max_position_size: 0.15`
  - `agents.risk.max_short_exposure: 0.15`
- Commit en repo QTS: `64336c2` (`config(live): set strict risk profile as default from OOS validation`).

## Router LLM — ajuste de preferencia (tarde)

- Hector confirmó ajuste operativo:
  - **Gemini** también se prioriza para cambios de diseño.
  - **Gemini** se usa para deepthink en decisiones más complejas.
  - **Codex** mantiene implementación, validación y cierre técnico cuando haya código.
- Se actualizó memoria curada (`MEMORY.md`) con esta preferencia.
